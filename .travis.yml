language: clojure
script: lein spec
sudo: false
jdk:
  - openjdk6
  - openjdk7
  - oraclejdk7
  - oraclejdk8

before_deploy:
  - lein ring uberjar
  - export RELEASE_PKG_FILE=$(ls target/*standalone.jar)
  - echo "deploying $RELEASE_PKG_FILE to GitHub releases"
deploy:
  provider: releases
  user:
      secure: "WGeiJewInraGaCTUy/GVBojpvqNSzEkliYgaIRPztG81Vv22ukxKkESBGAntX0/mP6++XrD4TnVPiFVje6Z++Cc82StffpjiV8J1Hyzpa3IJ8WxoAUHsDQY2mw0vNu1xp/0JnretItPsTW8AdEkg9OR8NPEXRrZWPI6psTZVlOISzduIdvG8XNPu8cpoBGonK37QMWaefK8uQIFFhnhdarM9j05lP4iO4dyIQjYTor45Z2Ojhn7lO/nhDGCyhSmc0+jb7XBiJ5ClRVQGDiIpCB1flhsvdAiD5cBb75VUXKobJHq2RTv4fJqcbelztP5Qre/DkdLEtO6sYlT2QMxTNMmPS+8Qg61LOzImLQg7Et44YvtCoG1GAmatQu1ciwLBiEGgEm0ZKkC69tXAssicTNxb068pQ6I+JXBPtni6nXx7gTxQ5Gy8X5N2Ur3oL4GDQ2gX8CEzv44rwjlnIrKpa3h5hrJBRPBfOQw+Ny1s4McNprQA89Bwjwb2b1BWiMaU2fdUqQbpbwhb0ydIg3+Bg+mXqdwGwmWDlMPFNk1UG5hfdsT5Vt3hOZ7Dc53ciBu/N+1KXtnA1r4dysCQhryQz/9lUnlHZLv0H0v7Zi1pmYuoszl19SzQaL4cGSnrj8iR/e2GD1rGGlUr3CYAJSVuiEImvccL5j3ZkHfA2KNArsc="
  password:
      secure: "FovsJEARYK8Pr6icclMQqQVGk6rIVe7ByxWlbo+slKd0wsU06+SjER37VEwbFsMD06LsTW3Bo9ZtR7cg0qBwPJqioTWN1VtXqyoRlFWDx5It5NOEeWhrMOeWBLPkz5MY+6SFZ1BdHmN2L1zTteVHuzujYQ24HixCeWH1k2R+TS7iGGzXDnDfZHSrwu2rcLcSzk11Nuc9hzWOqsqjV/fK1dA98rOdeBKAT3XblMnT8hOh6KRFhZQN2ExN861FWraycsd93v4cn3qcOfzwj+DXws4QLnK+O4uh0ykxnQzmy5yNz0LhT1uA87dAVFKfjbFKXdW7Z1WUWGaXxWAQwvrRa8r+Wmcohn092AacQim7wt4eMkhzVXurT73l+fmGkAc0Czir3PbDFSAR1QqTvIR2hcqQ8ffm2+9SZK4l7jMiK05E9xnq1Z1SU3GI8I7qEo2IQrpeDxjKujFeqHdwhdhACGsn5ON0YDi/PfHHE1K5U5LmUyFazYKCxZnNrNQRT4NT5hqODRBKEEiYNerO6lWWBxZzhH2AEfUpRFrLMDYj5SKqAOH765kXyhGEAcfHN17tAfKUKVN+lTw3i93mI72Tm5O/E9CZtb463NZA/JGXaoaqrfmio04VKnIggAT3cCnNikHvqGp0IGwmM6r1UrTI8H0zaDSLPe7BSfBuB0tNTZk="
  file: "${RELEASE_PKG_FILE}"
  skip_cleanup: true
  on:
    tags: true
